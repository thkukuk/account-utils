[Unit]
Description=Daemon to set map ranges
Documentation=man:newidmapd(8)

[Service]
Type=notify
Environment="NEWIDMAPD_OPTS="
EnvironmentFile=-/etc/default/account-utils
ExecStart=@LIBEXECDIR@/newidmapd -s $NEWIDMAPD_OPTS
IPAddressDeny=any
LockPersonality=yes
MemoryDenyWriteExecute=yes
NoNewPrivileges=yes
PrivateDevices=yes
PrivateNetwork=yes
PrivateTmp=yes
ProcSubset=pid
ProtectClock=yes
ProtectControlGroups=yes
ProtectHome=yes
ProtectHostname=yes
ProtectKernelLogs=yes
ProtectKernelModules=yes
ProtectKernelTunables=yes
ProtectProc=invisible
ProtectSystem=strict
ReadWritePaths=/run/account /proc /etc/default
RestrictAddressFamilies=AF_UNIX
RestrictNamespaces=yes
RestrictRealtime=true
RestrictRealtime=yes
RestrictSUIDSGID=yes
